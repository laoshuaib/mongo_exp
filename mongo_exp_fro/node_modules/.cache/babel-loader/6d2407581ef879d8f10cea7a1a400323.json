{"ast":null,"code":"import { isClient } from '@vueuse/core';\n\nconst resizeHandler = function (entries) {\n  for (const entry of entries) {\n    const listeners = entry.target.__resizeListeners__ || [];\n\n    if (listeners.length) {\n      listeners.forEach(fn => {\n        fn();\n      });\n    }\n  }\n};\n\nconst addResizeListener = function (element, fn) {\n  if (!isClient || !element) return;\n\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = [];\n    element.__ro__ = new ResizeObserver(resizeHandler);\n\n    element.__ro__.observe(element);\n  }\n\n  element.__resizeListeners__.push(fn);\n};\n\nconst removeResizeListener = function (element, fn) {\n  var _a;\n\n  if (!element || !element.__resizeListeners__) return;\n\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\n  if (!element.__resizeListeners__.length) {\n    (_a = element.__ro__) == null ? void 0 : _a.disconnect();\n  }\n};\n\nexport { addResizeListener, removeResizeListener };","map":{"version":3,"mappings":";;AACA,MAAMA,aAAa,GAAG,UAASC,OAAT,EAAkB;EACtC,KAAK,MAAMC,KAAX,IAAoBD,OAApB,EAA6B;IAC3B,MAAME,SAAS,GAAGD,KAAK,CAACE,MAAN,CAAaC,mBAAb,IAAoC,EAAtD;;IACA,IAAIF,SAAS,CAACG,MAAd,EAAsB;MACpBH,SAAS,CAACI,OAAV,CAAmBC,EAAD,IAAQ;QACxBA,EAAE;MACH,CAFD;IAGD;EACF;AACF,CATD;;AAUY,MAACC,iBAAiB,GAAG,UAASC,OAAT,EAAkBF,EAAlB,EAAsB;EACrD,IAAI,CAACG,QAAD,IAAa,CAACD,OAAlB,EACE;;EACF,IAAI,CAACA,OAAO,CAACL,mBAAb,EAAkC;IAChCK,OAAO,CAACL,mBAAR,GAA8B,EAA9B;IACAK,OAAO,CAACE,MAAR,GAAiB,IAAIC,cAAJ,CAAmBb,aAAnB,CAAjB;;IACAU,OAAO,CAACE,MAAR,CAAeE,OAAf,CAAuBJ,OAAvB;EACD;;EACDA,OAAO,CAACL,mBAAR,CAA4BU,IAA5B,CAAiCP,EAAjC;AACF,CATY;;AAUA,MAACQ,oBAAoB,GAAG,UAASN,OAAT,EAAkBF,EAAlB,EAAsB;EACxD,IAAIS,EAAJ;;EACA,IAAI,CAACP,OAAD,IAAY,CAACA,OAAO,CAACL,mBAAzB,EACE;;EACFK,OAAO,CAACL,mBAAR,CAA4Ba,MAA5B,CAAmCR,OAAO,CAACL,mBAAR,CAA4Bc,OAA5B,CAAoCX,EAApC,CAAnC,EAA4E,CAA5E;;EACA,IAAI,CAACE,OAAO,CAACL,mBAAR,CAA4BC,MAAjC,EAAyC;IACvC,CAACW,EAAE,GAAGP,OAAO,CAACE,MAAd,KAAyB,IAAzB,GAAgC,KAAK,CAArC,GAAyCK,EAAE,CAACG,UAAH,EAAzC;EACD;AACH,CARY","names":["resizeHandler","entries","entry","listeners","target","__resizeListeners__","length","forEach","fn","addResizeListener","element","isClient","__ro__","ResizeObserver","observe","push","removeResizeListener","_a","splice","indexOf","disconnect"],"sources":["../../../../../packages/utils/dom/resize-event.ts"],"sourcesContent":["import { isClient } from '@vueuse/core'\n\nimport type { HTMLElementCustomized } from '../typescript'\n\nexport type ResizableElement = HTMLElementCustomized<{\n  __resizeListeners__?: Array<(...args: unknown[]) => unknown>\n  __ro__?: ResizeObserver\n}>\n\nconst resizeHandler = function (entries: ResizeObserverEntry[]) {\n  for (const entry of entries) {\n    const listeners =\n      (entry.target as ResizableElement).__resizeListeners__ || []\n    if (listeners.length) {\n      listeners.forEach((fn) => {\n        fn()\n      })\n    }\n  }\n}\n\n/** @deprecated use `useResizeObserver` or `useElementSize` in vueuse */\nexport const addResizeListener = function (\n  element: ResizableElement,\n  fn: (...args: unknown[]) => unknown\n): void {\n  if (!isClient || !element) return\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = []\n    element.__ro__ = new ResizeObserver(resizeHandler)\n    element.__ro__.observe(element)\n  }\n  element.__resizeListeners__.push(fn)\n}\n\n/** @deprecated use `useResizeObserver` or `useElementSize` in vueuse */\nexport const removeResizeListener = function (\n  element: ResizableElement,\n  fn: (...args: unknown[]) => unknown\n): void {\n  if (!element || !element.__resizeListeners__) return\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1)\n  if (!element.__resizeListeners__.length) {\n    element.__ro__?.disconnect()\n  }\n}\n"]},"metadata":{},"sourceType":"module"}