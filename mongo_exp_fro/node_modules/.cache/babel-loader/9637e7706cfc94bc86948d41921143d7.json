{"ast":null,"code":"import { defineComponent, toRefs, computed, unref, provide, reactive, onMounted, nextTick, resolveComponent, resolveDirective, withDirectives, openBlock, createElementBlock, normalizeClass, withModifiers, createVNode, withCtx, createElementVNode, normalizeStyle, toDisplayString, createBlock, Fragment, renderList, createCommentVNode, Transition, withKeys, vModelText, createSlots, resolveDynamicComponent, renderSlot, vShow } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nimport '../../../directives/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElScrollbar } from '../../scrollbar/index.mjs';\nimport { ElTag } from '../../tag/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../utils/index.mjs';\nimport { CircleClose, ArrowUp } from '@element-plus/icons-vue';\nimport Option from './option.mjs';\nimport ElSelectMenu from './select-dropdown.mjs';\nimport { useSelectStates, useSelect } from './useSelect.mjs';\nimport { selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport ClickOutside from '../../../directives/click-outside/index.mjs';\nimport { isValidComponentSize } from '../../../utils/vue/validator.mjs';\nimport { useTooltipContentProps } from '../../tooltip/src/tooltip.mjs';\nimport { tagProps } from '../../tag/src/tag.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useFocus } from '../../../hooks/use-focus/index.mjs';\nconst COMPONENT_NAME = \"ElSelect\";\n\nconst _sfc_main = defineComponent({\n  name: COMPONENT_NAME,\n  componentName: COMPONENT_NAME,\n  components: {\n    ElInput,\n    ElSelectMenu,\n    ElOption: Option,\n    ElTag,\n    ElScrollbar,\n    ElTooltip,\n    ElIcon\n  },\n  directives: {\n    ClickOutside\n  },\n  props: {\n    name: String,\n    id: String,\n    modelValue: {\n      type: [Array, String, Number, Boolean, Object],\n      default: void 0\n    },\n    autocomplete: {\n      type: String,\n      default: \"off\"\n    },\n    automaticDropdown: Boolean,\n    size: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    effect: {\n      type: String,\n      default: \"light\"\n    },\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: {\n      type: String,\n      default: \"\"\n    },\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    collapseTags: Boolean,\n    collapseTagsTooltip: {\n      type: Boolean,\n      default: false\n    },\n    teleported: useTooltipContentProps.teleported,\n    persistent: {\n      type: Boolean,\n      default: true\n    },\n    clearIcon: {\n      type: [String, Object],\n      default: CircleClose\n    },\n    fitInputWidth: {\n      type: Boolean,\n      default: false\n    },\n    suffixIcon: {\n      type: [String, Object],\n      default: ArrowUp\n    },\n    tagType: { ...tagProps.type,\n      default: \"info\"\n    },\n    validateEvent: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, \"remove-tag\", \"clear\", \"visible-change\", \"focus\", \"blur\"],\n\n  setup(props, ctx) {\n    const nsSelect = useNamespace(\"select\");\n    const nsInput = useNamespace(\"input\");\n    const {\n      t\n    } = useLocale();\n    const states = useSelectStates(props);\n    const {\n      optionsArray,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      setSelected,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      onOptionCreate,\n      onOptionDestroy,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      reference,\n      input,\n      tooltipRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      queryChange,\n      groupQueryChange\n    } = useSelect(props, states, ctx);\n    const {\n      focus\n    } = useFocus(reference);\n    const {\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      cachedOptions,\n      optionsCount,\n      prefixWidth,\n      tagInMultiLine\n    } = toRefs(states);\n    const wrapperKls = computed(() => {\n      const classList = [nsSelect.b()];\n\n      const _selectSize = unref(selectSize);\n\n      if (_selectSize) {\n        classList.push(nsSelect.m(_selectSize));\n      }\n\n      if (props.disabled) {\n        classList.push(nsSelect.m(\"disabled\"));\n      }\n\n      return classList;\n    });\n    const selectTagsStyle = computed(() => ({\n      maxWidth: `${unref(inputWidth) - 32}px`,\n      width: \"100%\"\n    }));\n    provide(selectKey, reactive({\n      props,\n      options,\n      optionsArray,\n      cachedOptions,\n      optionsCount,\n      filteredOptionsCount,\n      hoverIndex,\n      handleOptionSelect,\n      onOptionCreate,\n      onOptionDestroy,\n      selectWrapper,\n      selected,\n      setSelected,\n      queryChange,\n      groupQueryChange\n    }));\n    onMounted(() => {\n      states.cachedPlaceHolder = currentPlaceholder.value = props.placeholder || t(\"el.select.placeholder\");\n\n      if (props.multiple && Array.isArray(props.modelValue) && props.modelValue.length > 0) {\n        currentPlaceholder.value = \"\";\n      }\n\n      useResizeObserver(selectWrapper, handleResize);\n\n      if (props.remote && props.multiple) {\n        resetInputHeight();\n      }\n\n      nextTick(() => {\n        const refEl = reference.value && reference.value.$el;\n        if (!refEl) return;\n        inputWidth.value = refEl.getBoundingClientRect().width;\n\n        if (ctx.slots.prefix) {\n          const prefix = refEl.querySelector(`.${nsInput.e(\"prefix\")}`);\n          prefixWidth.value = Math.max(prefix.getBoundingClientRect().width + 5, 30);\n        }\n      });\n      setSelected();\n    });\n\n    if (props.multiple && !Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, []);\n    }\n\n    if (!props.multiple && Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, \"\");\n    }\n\n    const popperPaneRef = computed(() => {\n      var _a, _b;\n\n      return (_b = (_a = tooltipRef.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.contentRef;\n    });\n    return {\n      tagInMultiLine,\n      prefixWidth,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      focus,\n      reference,\n      input,\n      tooltipRef,\n      popperPaneRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      wrapperKls,\n      selectTagsStyle,\n      nsSelect\n    };\n  }\n\n});\n\nconst _hoisted_1 = {\n  class: \"select-trigger\"\n};\nconst _hoisted_2 = [\"disabled\", \"autocomplete\"];\nconst _hoisted_3 = {\n  style: {\n    \"height\": \"100%\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\"\n  }\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = resolveComponent(\"el-tag\");\n\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  const _component_el_icon = resolveComponent(\"el-icon\");\n\n  const _component_el_input = resolveComponent(\"el-input\");\n\n  const _component_el_option = resolveComponent(\"el-option\");\n\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  const _component_el_select_menu = resolveComponent(\"el-select-menu\");\n\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    ref: \"selectWrapper\",\n    class: normalizeClass(_ctx.wrapperKls),\n    onClick: _cache[22] || (_cache[22] = withModifiers((...args) => _ctx.toggleMenu && _ctx.toggleMenu(...args), [\"stop\"]))\n  }, [createVNode(_component_el_tooltip, {\n    ref: \"tooltipRef\",\n    visible: _ctx.dropMenuVisible,\n    placement: \"bottom-start\",\n    teleported: _ctx.teleported,\n    \"popper-class\": [_ctx.nsSelect.e(\"popper\"), _ctx.popperClass],\n    \"fallback-placements\": [\"bottom-start\", \"top-start\", \"right\", \"left\"],\n    effect: _ctx.effect,\n    pure: \"\",\n    trigger: \"click\",\n    transition: `${_ctx.nsSelect.namespace.value}-zoom-in-top`,\n    \"stop-popper-mouse-event\": false,\n    \"gpu-acceleration\": false,\n    persistent: _ctx.persistent,\n    onShow: _ctx.handleMenuEnter\n  }, {\n    default: withCtx(() => [createElementVNode(\"div\", _hoisted_1, [_ctx.multiple ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      ref: \"tags\",\n      class: normalizeClass(_ctx.nsSelect.e(\"tags\")),\n      style: normalizeStyle(_ctx.selectTagsStyle)\n    }, [_ctx.collapseTags && _ctx.selected.length ? (openBlock(), createElementBlock(\"span\", {\n      key: 0,\n      class: normalizeClass([_ctx.nsSelect.b(\"tags-wrapper\"), {\n        \"has-prefix\": _ctx.prefixWidth && _ctx.selected.length\n      }])\n    }, [createVNode(_component_el_tag, {\n      closable: !_ctx.selectDisabled && !_ctx.selected[0].isDisabled,\n      size: _ctx.collapseTagSize,\n      hit: _ctx.selected[0].hitState,\n      type: _ctx.tagType,\n      \"disable-transitions\": \"\",\n      onClose: _cache[0] || (_cache[0] = $event => _ctx.deleteTag($event, _ctx.selected[0]))\n    }, {\n      default: withCtx(() => [createElementVNode(\"span\", {\n        class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n        style: normalizeStyle({\n          maxWidth: _ctx.inputWidth - 123 + \"px\"\n        })\n      }, toDisplayString(_ctx.selected[0].currentLabel), 7)]),\n      _: 1\n    }, 8, [\"closable\", \"size\", \"hit\", \"type\"]), _ctx.selected.length > 1 ? (openBlock(), createBlock(_component_el_tag, {\n      key: 0,\n      closable: false,\n      size: _ctx.collapseTagSize,\n      type: _ctx.tagType,\n      \"disable-transitions\": \"\"\n    }, {\n      default: withCtx(() => [_ctx.collapseTagsTooltip ? (openBlock(), createBlock(_component_el_tooltip, {\n        key: 0,\n        disabled: _ctx.dropMenuVisible,\n        \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n        effect: _ctx.effect,\n        placement: \"bottom\",\n        teleported: _ctx.teleported\n      }, {\n        default: withCtx(() => [createElementVNode(\"span\", {\n          class: normalizeClass(_ctx.nsSelect.e(\"tags-text\"))\n        }, \"+ \" + toDisplayString(_ctx.selected.length - 1), 3)]),\n        content: withCtx(() => [createElementVNode(\"div\", {\n          class: normalizeClass(_ctx.nsSelect.e(\"collapse-tags\"))\n        }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.selected.slice(1), (item, idx) => {\n          return openBlock(), createElementBlock(\"div\", {\n            key: idx,\n            class: normalizeClass(_ctx.nsSelect.e(\"collapse-tag\"))\n          }, [(openBlock(), createBlock(_component_el_tag, {\n            key: _ctx.getValueKey(item),\n            class: \"in-tooltip\",\n            closable: !_ctx.selectDisabled && !item.isDisabled,\n            size: _ctx.collapseTagSize,\n            hit: item.hitState,\n            type: _ctx.tagType,\n            \"disable-transitions\": \"\",\n            style: {\n              margin: \"2px\"\n            },\n            onClose: $event => _ctx.deleteTag($event, item)\n          }, {\n            default: withCtx(() => [createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n              style: normalizeStyle({\n                maxWidth: _ctx.inputWidth - 75 + \"px\"\n              })\n            }, toDisplayString(item.currentLabel), 7)]),\n            _: 2\n          }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"]))], 2);\n        }), 128))], 2)]),\n        _: 1\n      }, 8, [\"disabled\", \"effect\", \"teleported\"])) : (openBlock(), createElementBlock(\"span\", {\n        key: 1,\n        class: normalizeClass(_ctx.nsSelect.e(\"tags-text\"))\n      }, \"+ \" + toDisplayString(_ctx.selected.length - 1), 3))]),\n      _: 1\n    }, 8, [\"size\", \"type\"])) : createCommentVNode(\"v-if\", true)], 2)) : createCommentVNode(\"v-if\", true), createCommentVNode(\" <div> \"), !_ctx.collapseTags ? (openBlock(), createBlock(Transition, {\n      key: 1,\n      onAfterLeave: _ctx.resetInputHeight\n    }, {\n      default: withCtx(() => [createElementVNode(\"span\", {\n        class: normalizeClass([_ctx.nsSelect.b(\"tags-wrapper\"), {\n          \"has-prefix\": _ctx.prefixWidth && _ctx.selected.length\n        }])\n      }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.selected, item => {\n        return openBlock(), createBlock(_component_el_tag, {\n          key: _ctx.getValueKey(item),\n          closable: !_ctx.selectDisabled && !item.isDisabled,\n          size: _ctx.collapseTagSize,\n          hit: item.hitState,\n          type: _ctx.tagType,\n          \"disable-transitions\": \"\",\n          onClose: $event => _ctx.deleteTag($event, item)\n        }, {\n          default: withCtx(() => [createElementVNode(\"span\", {\n            class: normalizeClass(_ctx.nsSelect.e(\"tags-text\")),\n            style: normalizeStyle({\n              maxWidth: _ctx.inputWidth - 75 + \"px\"\n            })\n          }, toDisplayString(item.currentLabel), 7)]),\n          _: 2\n        }, 1032, [\"closable\", \"size\", \"hit\", \"type\", \"onClose\"]);\n      }), 128))], 2)]),\n      _: 1\n    }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true), createCommentVNode(\" </div> \"), _ctx.filterable ? withDirectives((openBlock(), createElementBlock(\"input\", {\n      key: 2,\n      ref: \"input\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.query = $event),\n      type: \"text\",\n      class: normalizeClass([_ctx.nsSelect.e(\"input\"), _ctx.nsSelect.is(_ctx.selectSize)]),\n      disabled: _ctx.selectDisabled,\n      autocomplete: _ctx.autocomplete,\n      style: normalizeStyle({\n        marginLeft: _ctx.prefixWidth && !_ctx.selected.length || _ctx.tagInMultiLine ? `${_ctx.prefixWidth}px` : \"\",\n        flexGrow: 1,\n        width: `${_ctx.inputLength / (_ctx.inputWidth - 32)}%`,\n        maxWidth: `${_ctx.inputWidth - 42}px`\n      }),\n      onFocus: _cache[2] || (_cache[2] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n      onBlur: _cache[3] || (_cache[3] = (...args) => _ctx.handleBlur && _ctx.handleBlur(...args)),\n      onKeyup: _cache[4] || (_cache[4] = (...args) => _ctx.managePlaceholder && _ctx.managePlaceholder(...args)),\n      onKeydown: [_cache[5] || (_cache[5] = (...args) => _ctx.resetInputState && _ctx.resetInputState(...args)), _cache[6] || (_cache[6] = withKeys(withModifiers($event => _ctx.navigateOptions(\"next\"), [\"prevent\"]), [\"down\"])), _cache[7] || (_cache[7] = withKeys(withModifiers($event => _ctx.navigateOptions(\"prev\"), [\"prevent\"]), [\"up\"])), _cache[8] || (_cache[8] = withKeys((...args) => _ctx.handleKeydownEscape && _ctx.handleKeydownEscape(...args), [\"esc\"])), _cache[9] || (_cache[9] = withKeys(withModifiers((...args) => _ctx.selectOption && _ctx.selectOption(...args), [\"stop\", \"prevent\"]), [\"enter\"])), _cache[10] || (_cache[10] = withKeys((...args) => _ctx.deletePrevTag && _ctx.deletePrevTag(...args), [\"delete\"])), _cache[11] || (_cache[11] = withKeys($event => _ctx.visible = false, [\"tab\"]))],\n      onCompositionstart: _cache[12] || (_cache[12] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n      onCompositionupdate: _cache[13] || (_cache[13] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n      onCompositionend: _cache[14] || (_cache[14] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n      onInput: _cache[15] || (_cache[15] = (...args) => _ctx.debouncedQueryChange && _ctx.debouncedQueryChange(...args))\n    }, null, 46, _hoisted_2)), [[vModelText, _ctx.query]]) : createCommentVNode(\"v-if\", true)], 6)) : createCommentVNode(\"v-if\", true), createVNode(_component_el_input, {\n      id: _ctx.id,\n      ref: \"reference\",\n      modelValue: _ctx.selectedLabel,\n      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => _ctx.selectedLabel = $event),\n      type: \"text\",\n      placeholder: _ctx.currentPlaceholder,\n      name: _ctx.name,\n      autocomplete: _ctx.autocomplete,\n      size: _ctx.selectSize,\n      disabled: _ctx.selectDisabled,\n      readonly: _ctx.readonly,\n      \"validate-event\": false,\n      class: normalizeClass([_ctx.nsSelect.is(\"focus\", _ctx.visible)]),\n      tabindex: _ctx.multiple && _ctx.filterable ? -1 : void 0,\n      onFocus: _ctx.handleFocus,\n      onBlur: _ctx.handleBlur,\n      onInput: _ctx.debouncedOnInputChange,\n      onPaste: _ctx.debouncedOnInputChange,\n      onCompositionstart: _ctx.handleComposition,\n      onCompositionupdate: _ctx.handleComposition,\n      onCompositionend: _ctx.handleComposition,\n      onKeydown: [_cache[17] || (_cache[17] = withKeys(withModifiers($event => _ctx.navigateOptions(\"next\"), [\"stop\", \"prevent\"]), [\"down\"])), _cache[18] || (_cache[18] = withKeys(withModifiers($event => _ctx.navigateOptions(\"prev\"), [\"stop\", \"prevent\"]), [\"up\"])), withKeys(withModifiers(_ctx.selectOption, [\"stop\", \"prevent\"]), [\"enter\"]), withKeys(_ctx.handleKeydownEscape, [\"esc\"]), _cache[19] || (_cache[19] = withKeys($event => _ctx.visible = false, [\"tab\"]))],\n      onMouseenter: _cache[20] || (_cache[20] = $event => _ctx.inputHovering = true),\n      onMouseleave: _cache[21] || (_cache[21] = $event => _ctx.inputHovering = false)\n    }, createSlots({\n      suffix: withCtx(() => [_ctx.iconComponent && !_ctx.showClose ? (openBlock(), createBlock(_component_el_icon, {\n        key: 0,\n        class: normalizeClass([_ctx.nsSelect.e(\"caret\"), _ctx.nsSelect.e(\"icon\"), _ctx.iconReverse])\n      }, {\n        default: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))]),\n        _: 1\n      }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true), _ctx.showClose && _ctx.clearIcon ? (openBlock(), createBlock(_component_el_icon, {\n        key: 1,\n        class: normalizeClass([_ctx.nsSelect.e(\"caret\"), _ctx.nsSelect.e(\"icon\")]),\n        onClick: _ctx.handleClearClick\n      }, {\n        default: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.clearIcon)))]),\n        _: 1\n      }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)]),\n      _: 2\n    }, [_ctx.$slots.prefix ? {\n      name: \"prefix\",\n      fn: withCtx(() => [createElementVNode(\"div\", _hoisted_3, [renderSlot(_ctx.$slots, \"prefix\")])])\n    } : void 0]), 1032, [\"id\", \"modelValue\", \"placeholder\", \"name\", \"autocomplete\", \"size\", \"disabled\", \"readonly\", \"class\", \"tabindex\", \"onFocus\", \"onBlur\", \"onInput\", \"onPaste\", \"onCompositionstart\", \"onCompositionupdate\", \"onCompositionend\", \"onKeydown\"])])]),\n    content: withCtx(() => [createVNode(_component_el_select_menu, null, {\n      default: withCtx(() => [withDirectives(createVNode(_component_el_scrollbar, {\n        ref: \"scrollbar\",\n        tag: \"ul\",\n        \"wrap-class\": _ctx.nsSelect.be(\"dropdown\", \"wrap\"),\n        \"view-class\": _ctx.nsSelect.be(\"dropdown\", \"list\"),\n        class: normalizeClass([_ctx.nsSelect.is(\"empty\", !_ctx.allowCreate && Boolean(_ctx.query) && _ctx.filteredOptionsCount === 0)])\n      }, {\n        default: withCtx(() => [_ctx.showNewOption ? (openBlock(), createBlock(_component_el_option, {\n          key: 0,\n          value: _ctx.query,\n          created: true\n        }, null, 8, [\"value\"])) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\")]),\n        _: 3\n      }, 8, [\"wrap-class\", \"view-class\", \"class\"]), [[vShow, _ctx.options.size > 0 && !_ctx.loading]]), _ctx.emptyText && (!_ctx.allowCreate || _ctx.loading || _ctx.allowCreate && _ctx.options.size === 0) ? (openBlock(), createElementBlock(Fragment, {\n        key: 0\n      }, [_ctx.$slots.empty ? renderSlot(_ctx.$slots, \"empty\", {\n        key: 0\n      }) : (openBlock(), createElementBlock(\"p\", {\n        key: 1,\n        class: normalizeClass(_ctx.nsSelect.be(\"dropdown\", \"empty\"))\n      }, toDisplayString(_ctx.emptyText), 3))], 64)) : createCommentVNode(\"v-if\", true)]),\n      _: 3\n    })]),\n    _: 3\n  }, 8, [\"visible\", \"teleported\", \"popper-class\", \"effect\", \"transition\", \"persistent\", \"onShow\"])], 2)), [[_directive_click_outside, _ctx.handleClose, _ctx.popperPaneRef]]);\n}\n\nvar Select = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue\"]]);\n\nexport { Select as default };","map":{"version":3,"mappings":"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","names":["COMPONENT_NAME","_sfc_main","defineComponent","name","componentName","components","ElInput","ElSelectMenu","ElOption","ElTag","ElScrollbar","ElTooltip","ElIcon","directives","ClickOutside","props","id","modelValue","type","Array","String","Number","Boolean","Object","default","autocomplete","automaticDropdown","size","validator","effect","disabled","clearable","filterable","allowCreate","loading","popperClass","remote","loadingText","noMatchText","noDataText","remoteMethod","filterMethod","multiple","multipleLimit","placeholder","defaultFirstOption","reserveKeyword","valueKey","collapseTags","collapseTagsTooltip","teleported","useTooltipContentProps","persistent","clearIcon","fitInputWidth","suffixIcon","tagType","tagProps","validateEvent","emits","UPDATE_MODEL_EVENT","CHANGE_EVENT","setup","ctx","useNamespace","t","useLocale","useSelectStates","optionsArray","selectSize","readonly","handleResize","collapseTagSize","debouncedOnInputChange","debouncedQueryChange","deletePrevTag","deleteTag","deleteSelected","handleOptionSelect","scrollToOption","setSelected","resetInputHeight","managePlaceholder","showClose","selectDisabled","iconComponent","iconReverse","showNewOption","emptyText","toggleLastOptionHitState","resetInputState","handleComposition","onOptionCreate","onOptionDestroy","handleMenuEnter","handleFocus","blur","handleBlur","handleClearClick","handleClose","handleKeydownEscape","toggleMenu","selectOption","getValueKey","navigateOptions","dropMenuVisible","reference","input","tooltipRef","tags","selectWrapper","scrollbar","queryChange","groupQueryChange","useSelect","states","focus","useFocus","inputWidth","selected","inputLength","filteredOptionsCount","visible","softFocus","selectedLabel","hoverIndex","query","inputHovering","currentPlaceholder","menuVisibleOnFocus","isOnComposition","isSilentBlur","options","cachedOptions","optionsCount","prefixWidth","tagInMultiLine","toRefs","computed","classList","nsSelect","unref","_selectSize","push","m","maxWidth","width","provide","selectKey","reactive","onMounted","cachedPlaceHolder","isArray","length","value","useResizeObserver","nextTick","refEl","$el","slots","prefix","nsInput","Math","max","getBoundingClientRect","popperPaneRef","wrapperKls","selectTagsStyle","_withDirectives","ref","class","onClick","placement","pure","trigger","transition","onShow","_createElementVNode","key","_normalizeClass","_ctx","e","style","_component_el_tag","closable","hit","onClose","_toDisplayString","content","_openBlock","margin","_createCommentVNode","onAfterLeave","item","_normalizeStyle","_cache","flexGrow","onFocus","onBlur","onKeyup","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","_createVNode","tabindex","onPaste","_withKeys","_withModifiers","onMouseenter","onMouseleave","_createSlots","suffix","createCommentVNode","fn","tag","be","created","_renderSlot"],"sources":["../../../../../../packages/components/select/src/select.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"selectWrapper\"\n    v-click-outside:[popperPaneRef]=\"handleClose\"\n    :class=\"wrapperKls\"\n    @click.stop=\"toggleMenu\"\n  >\n    <el-tooltip\n      ref=\"tooltipRef\"\n      :visible=\"dropMenuVisible\"\n      placement=\"bottom-start\"\n      :teleported=\"teleported\"\n      :popper-class=\"[nsSelect.e('popper'), popperClass]\"\n      :fallback-placements=\"['bottom-start', 'top-start', 'right', 'left']\"\n      :effect=\"effect\"\n      pure\n      trigger=\"click\"\n      :transition=\"`${nsSelect.namespace.value}-zoom-in-top`\"\n      :stop-popper-mouse-event=\"false\"\n      :gpu-acceleration=\"false\"\n      :persistent=\"persistent\"\n      @show=\"handleMenuEnter\"\n    >\n      <template #default>\n        <div class=\"select-trigger\">\n          <div\n            v-if=\"multiple\"\n            ref=\"tags\"\n            :class=\"nsSelect.e('tags')\"\n            :style=\"selectTagsStyle\"\n          >\n            <span\n              v-if=\"collapseTags && selected.length\"\n              :class=\"[\n                nsSelect.b('tags-wrapper'),\n                { 'has-prefix': prefixWidth && selected.length },\n              ]\"\n            >\n              <el-tag\n                :closable=\"!selectDisabled && !selected[0].isDisabled\"\n                :size=\"collapseTagSize\"\n                :hit=\"selected[0].hitState\"\n                :type=\"tagType\"\n                disable-transitions\n                @close=\"deleteTag($event, selected[0])\"\n              >\n                <span\n                  :class=\"nsSelect.e('tags-text')\"\n                  :style=\"{ maxWidth: inputWidth - 123 + 'px' }\"\n                  >{{ selected[0].currentLabel }}</span\n                >\n              </el-tag>\n              <el-tag\n                v-if=\"selected.length > 1\"\n                :closable=\"false\"\n                :size=\"collapseTagSize\"\n                :type=\"tagType\"\n                disable-transitions\n              >\n                <el-tooltip\n                  v-if=\"collapseTagsTooltip\"\n                  :disabled=\"dropMenuVisible\"\n                  :fallback-placements=\"['bottom', 'top', 'right', 'left']\"\n                  :effect=\"effect\"\n                  placement=\"bottom\"\n                  :teleported=\"teleported\"\n                >\n                  <template #default>\n                    <span :class=\"nsSelect.e('tags-text')\"\n                      >+ {{ selected.length - 1 }}</span\n                    >\n                  </template>\n                  <template #content>\n                    <div :class=\"nsSelect.e('collapse-tags')\">\n                      <div\n                        v-for=\"(item, idx) in selected.slice(1)\"\n                        :key=\"idx\"\n                        :class=\"nsSelect.e('collapse-tag')\"\n                      >\n                        <el-tag\n                          :key=\"getValueKey(item)\"\n                          class=\"in-tooltip\"\n                          :closable=\"!selectDisabled && !item.isDisabled\"\n                          :size=\"collapseTagSize\"\n                          :hit=\"item.hitState\"\n                          :type=\"tagType\"\n                          disable-transitions\n                          :style=\"{ margin: '2px' }\"\n                          @close=\"deleteTag($event, item)\"\n                        >\n                          <span\n                            :class=\"nsSelect.e('tags-text')\"\n                            :style=\"{\n                              maxWidth: inputWidth - 75 + 'px',\n                            }\"\n                            >{{ item.currentLabel }}</span\n                          >\n                        </el-tag>\n                      </div>\n                    </div>\n                  </template>\n                </el-tooltip>\n                <span v-else :class=\"nsSelect.e('tags-text')\"\n                  >+ {{ selected.length - 1 }}</span\n                >\n              </el-tag>\n            </span>\n            <!-- <div> -->\n            <transition v-if=\"!collapseTags\" @after-leave=\"resetInputHeight\">\n              <span\n                :class=\"[\n                  nsSelect.b('tags-wrapper'),\n                  { 'has-prefix': prefixWidth && selected.length },\n                ]\"\n              >\n                <el-tag\n                  v-for=\"item in selected\"\n                  :key=\"getValueKey(item)\"\n                  :closable=\"!selectDisabled && !item.isDisabled\"\n                  :size=\"collapseTagSize\"\n                  :hit=\"item.hitState\"\n                  :type=\"tagType\"\n                  disable-transitions\n                  @close=\"deleteTag($event, item)\"\n                >\n                  <span\n                    :class=\"nsSelect.e('tags-text')\"\n                    :style=\"{ maxWidth: inputWidth - 75 + 'px' }\"\n                    >{{ item.currentLabel }}</span\n                  >\n                </el-tag>\n              </span>\n            </transition>\n            <!-- </div> -->\n            <input\n              v-if=\"filterable\"\n              ref=\"input\"\n              v-model=\"query\"\n              type=\"text\"\n              :class=\"[nsSelect.e('input'), nsSelect.is(selectSize)]\"\n              :disabled=\"selectDisabled\"\n              :autocomplete=\"autocomplete\"\n              :style=\"{\n                marginLeft:\n                  (prefixWidth && !selected.length) || tagInMultiLine\n                    ? `${prefixWidth}px`\n                    : '',\n                flexGrow: 1,\n                width: `${inputLength / (inputWidth - 32)}%`,\n                maxWidth: `${inputWidth - 42}px`,\n              }\"\n              @focus=\"handleFocus\"\n              @blur=\"handleBlur\"\n              @keyup=\"managePlaceholder\"\n              @keydown=\"resetInputState\"\n              @keydown.down.prevent=\"navigateOptions('next')\"\n              @keydown.up.prevent=\"navigateOptions('prev')\"\n              @keydown.esc=\"handleKeydownEscape\"\n              @keydown.enter.stop.prevent=\"selectOption\"\n              @keydown.delete=\"deletePrevTag\"\n              @keydown.tab=\"visible = false\"\n              @compositionstart=\"handleComposition\"\n              @compositionupdate=\"handleComposition\"\n              @compositionend=\"handleComposition\"\n              @input=\"debouncedQueryChange\"\n            />\n          </div>\n          <el-input\n            :id=\"id\"\n            ref=\"reference\"\n            v-model=\"selectedLabel\"\n            type=\"text\"\n            :placeholder=\"currentPlaceholder\"\n            :name=\"name\"\n            :autocomplete=\"autocomplete\"\n            :size=\"selectSize\"\n            :disabled=\"selectDisabled\"\n            :readonly=\"readonly\"\n            :validate-event=\"false\"\n            :class=\"[nsSelect.is('focus', visible)]\"\n            :tabindex=\"multiple && filterable ? -1 : undefined\"\n            @focus=\"handleFocus\"\n            @blur=\"handleBlur\"\n            @input=\"debouncedOnInputChange\"\n            @paste=\"debouncedOnInputChange\"\n            @compositionstart=\"handleComposition\"\n            @compositionupdate=\"handleComposition\"\n            @compositionend=\"handleComposition\"\n            @keydown.down.stop.prevent=\"navigateOptions('next')\"\n            @keydown.up.stop.prevent=\"navigateOptions('prev')\"\n            @keydown.enter.stop.prevent=\"selectOption\"\n            @keydown.esc=\"handleKeydownEscape\"\n            @keydown.tab=\"visible = false\"\n            @mouseenter=\"inputHovering = true\"\n            @mouseleave=\"inputHovering = false\"\n          >\n            <template v-if=\"$slots.prefix\" #prefix>\n              <div\n                style=\"\n                  height: 100%;\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n                \"\n              >\n                <slot name=\"prefix\" />\n              </div>\n            </template>\n            <template #suffix>\n              <el-icon\n                v-if=\"iconComponent && !showClose\"\n                :class=\"[nsSelect.e('caret'), nsSelect.e('icon'), iconReverse]\"\n              >\n                <component :is=\"iconComponent\" />\n              </el-icon>\n              <el-icon\n                v-if=\"showClose && clearIcon\"\n                :class=\"[nsSelect.e('caret'), nsSelect.e('icon')]\"\n                @click=\"handleClearClick\"\n              >\n                <component :is=\"clearIcon\" />\n              </el-icon>\n            </template>\n          </el-input>\n        </div>\n      </template>\n      <template #content>\n        <el-select-menu>\n          <el-scrollbar\n            v-show=\"options.size > 0 && !loading\"\n            ref=\"scrollbar\"\n            tag=\"ul\"\n            :wrap-class=\"nsSelect.be('dropdown', 'wrap')\"\n            :view-class=\"nsSelect.be('dropdown', 'list')\"\n            :class=\"[\n              nsSelect.is(\n                'empty',\n                !allowCreate && Boolean(query) && filteredOptionsCount === 0\n              ),\n            ]\"\n          >\n            <el-option v-if=\"showNewOption\" :value=\"query\" :created=\"true\" />\n            <slot />\n          </el-scrollbar>\n          <template\n            v-if=\"\n              emptyText &&\n              (!allowCreate || loading || (allowCreate && options.size === 0))\n            \"\n          >\n            <slot v-if=\"$slots.empty\" name=\"empty\" />\n            <p v-else :class=\"nsSelect.be('dropdown', 'empty')\">\n              {{ emptyText }}\n            </p>\n          </template>\n        </el-select-menu>\n      </template>\n    </el-tooltip>\n  </div>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\nimport {\n  computed,\n  defineComponent,\n  nextTick,\n  onMounted,\n  provide,\n  reactive,\n  toRefs,\n  unref,\n} from 'vue'\nimport { useResizeObserver } from '@vueuse/core'\nimport { ClickOutside } from '@element-plus/directives'\nimport { useFocus, useLocale, useNamespace } from '@element-plus/hooks'\nimport ElInput from '@element-plus/components/input'\nimport ElTooltip, {\n  useTooltipContentProps,\n} from '@element-plus/components/tooltip'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport ElTag, { tagProps } from '@element-plus/components/tag'\nimport ElIcon from '@element-plus/components/icon'\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { isValidComponentSize } from '@element-plus/utils'\nimport { ArrowUp, CircleClose } from '@element-plus/icons-vue'\nimport ElOption from './option.vue'\nimport ElSelectMenu from './select-dropdown.vue'\nimport { useSelect, useSelectStates } from './useSelect'\nimport { selectKey } from './token'\n\nimport type { Component, PropType } from 'vue'\nimport type { ComponentSize } from '@element-plus/constants'\nimport type { SelectContext } from './token'\n\nconst COMPONENT_NAME = 'ElSelect'\nexport default defineComponent({\n  name: COMPONENT_NAME,\n  componentName: COMPONENT_NAME,\n  components: {\n    ElInput,\n    ElSelectMenu,\n    ElOption,\n    ElTag,\n    ElScrollbar,\n    ElTooltip,\n    ElIcon,\n  },\n  directives: { ClickOutside },\n  props: {\n    name: String,\n    id: String,\n    modelValue: {\n      type: [Array, String, Number, Boolean, Object],\n      default: undefined,\n    },\n    autocomplete: {\n      type: String,\n      default: 'off',\n    },\n    automaticDropdown: Boolean,\n    size: {\n      type: String as PropType<ComponentSize>,\n      validator: isValidComponentSize,\n    },\n    effect: {\n      type: String as PropType<'light' | 'dark' | string>,\n      default: 'light',\n    },\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: {\n      type: String,\n      default: '',\n    },\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0,\n    },\n    placeholder: {\n      type: String,\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: {\n      type: Boolean,\n      default: true,\n    },\n    valueKey: {\n      type: String,\n      default: 'value',\n    },\n    collapseTags: Boolean,\n    collapseTagsTooltip: {\n      type: Boolean,\n      default: false,\n    },\n    teleported: useTooltipContentProps.teleported,\n    persistent: {\n      type: Boolean,\n      default: true,\n    },\n    clearIcon: {\n      type: [String, Object] as PropType<string | Component>,\n      default: CircleClose,\n    },\n    fitInputWidth: {\n      type: Boolean,\n      default: false,\n    },\n    suffixIcon: {\n      type: [String, Object] as PropType<string | Component>,\n      default: ArrowUp,\n    },\n    // eslint-disable-next-line vue/require-prop-types\n    tagType: { ...tagProps.type, default: 'info' },\n    validateEvent: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  emits: [\n    UPDATE_MODEL_EVENT,\n    CHANGE_EVENT,\n    'remove-tag',\n    'clear',\n    'visible-change',\n    'focus',\n    'blur',\n  ],\n\n  setup(props, ctx) {\n    const nsSelect = useNamespace('select')\n    const nsInput = useNamespace('input')\n    const { t } = useLocale()\n    const states = useSelectStates(props)\n    const {\n      optionsArray,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      setSelected,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      onOptionCreate,\n      onOptionDestroy,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n\n      reference,\n      input,\n      tooltipRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n      queryChange,\n      groupQueryChange,\n    } = useSelect(props, states, ctx)\n\n    const { focus } = useFocus(reference)\n\n    const {\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      cachedOptions,\n      optionsCount,\n      prefixWidth,\n      tagInMultiLine,\n    } = toRefs(states)\n\n    const wrapperKls = computed(() => {\n      const classList = [nsSelect.b()]\n      const _selectSize = unref(selectSize)\n      if (_selectSize) {\n        classList.push(nsSelect.m(_selectSize))\n      }\n      if (props.disabled) {\n        classList.push(nsSelect.m('disabled'))\n      }\n      return classList\n    })\n\n    const selectTagsStyle = computed(() => ({\n      maxWidth: `${unref(inputWidth) - 32}px`,\n      width: '100%',\n    }))\n\n    provide(\n      selectKey,\n      reactive({\n        props,\n        options,\n        optionsArray,\n        cachedOptions,\n        optionsCount,\n        filteredOptionsCount,\n        hoverIndex,\n        handleOptionSelect,\n        onOptionCreate,\n        onOptionDestroy,\n        selectWrapper,\n        selected,\n        setSelected,\n        queryChange,\n        groupQueryChange,\n      }) as unknown as SelectContext\n    )\n\n    onMounted(() => {\n      states.cachedPlaceHolder = currentPlaceholder.value =\n        props.placeholder || t('el.select.placeholder')\n      if (\n        props.multiple &&\n        Array.isArray(props.modelValue) &&\n        props.modelValue.length > 0\n      ) {\n        currentPlaceholder.value = ''\n      }\n      useResizeObserver(selectWrapper, handleResize)\n      if (props.remote && props.multiple) {\n        resetInputHeight()\n      }\n      nextTick(() => {\n        const refEl = reference.value && reference.value.$el\n        if (!refEl) return\n        inputWidth.value = refEl.getBoundingClientRect().width\n\n        if (ctx.slots.prefix) {\n          const prefix = refEl.querySelector(`.${nsInput.e('prefix')}`)\n          prefixWidth.value = Math.max(\n            prefix.getBoundingClientRect().width + 5,\n            30\n          )\n        }\n      })\n      setSelected()\n    })\n\n    if (props.multiple && !Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, [])\n    }\n    if (!props.multiple && Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, '')\n    }\n\n    const popperPaneRef = computed(() => {\n      return tooltipRef.value?.popperRef?.contentRef\n    })\n\n    return {\n      tagInMultiLine,\n      prefixWidth,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconComponent,\n      iconReverse,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      handleKeydownEscape,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      focus,\n\n      reference,\n      input,\n      tooltipRef,\n      popperPaneRef,\n      tags,\n      selectWrapper,\n      scrollbar,\n\n      wrapperKls,\n      selectTagsStyle,\n      nsSelect,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}